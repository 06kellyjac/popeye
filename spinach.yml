# A Sample Popeye configuration.
popeye:
  # ---------------------------------------------------------------------------
  # Allocations tracks deployments and statefulset resources as percentages.
  # Popeye capacitor will trip if associated objects are either above or under
  # these thresholds by x%.
  allocations:
    cpu:
      over: 200
      under: 50
    memory:
      over: 200
      under: 50

  # ---------------------------------------------------------------------------
  # Node...
  # o Check nodes resource utilization in percent against these thresholds.
  # o Excludes these nodes from the scan.
  node:
    limits:
      cpu:    90
      memory: 80
    exclude:
    - n1

  # ---------------------------------------------------------------------------
  # Namespace...
  # Excludes these namespaces from the scan.
  namespace:
    exclude:
      - istio*

  # ---------------------------------------------------------------------------
  # Pod...
  # o Check containers resource utilization in percent.
  # o Warns if more than 3 restarts.
  # o Excludes these pods from the scan.
  pod:
    limits:
      cpu:    80
      memory: 75
    restarts:
      3
    exclude:
      - \Acore
      - storage*

  # ---------------------------------------------------------------------------
  # Service ...
  # o Excludes these services from the scan.
  service:
    exclude:
      - dictionary*
